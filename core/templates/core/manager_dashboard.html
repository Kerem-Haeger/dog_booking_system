{% extends 'core/base.html' %}

{% block title %}Manager Dashboard - Dog Booking System{% endblock %}

{% block extra_css %}
{% load static %}
<link rel="stylesheet" href="{% static 'core/css/dashboard.css' %}">
{% endblock %}

{% block content %}
<h1>Manager Dashboard</h1>

<div class="manager-dashboard">
    <!-- Requests Section -->
    <div class="dashboard-section requests-section">
        <h2>📋 Pending Requests</h2>
        <div class="request-cards">
            <!-- Appointment Requests -->
            <div class="request-card {% if pending_appt_count > 0 %}has-requests{% else %}empty{% endif %}">
                <div class="request-header">
                    <span class="request-icon">📅</span>
                    <span class="request-title">Appointment Requests</span>
                    {% if pending_appt_count > 0 %}
                    <span class="request-count">{{ pending_appt_count }}</span>
                    {% endif %}
                </div>
                <div class="request-description">
                    {% if pending_appt_count > 0 %}
                    You have {{ pending_appt_count }} new appointment request{{ pending_appt_count|pluralize }} to
                    review
                    {% else %}
                    No pending appointment requests
                    {% endif %}
                </div>
                {% if pending_appt_count > 0 %}
                <a href="{% url 'approve_appointments' %}" class="request-action btn btn-primary">View Calendar</a>
                {% endif %}
            </div>

            <!-- Pet Approvals -->
            <div class="request-card {% if pending_count > 0 %}has-requests{% else %}empty{% endif %}">
                <div class="request-header">
                    <span class="request-icon">🐕</span>
                    <span class="request-title">Pet Approvals</span>
                    {% if pending_count > 0 %}
                    <span class="request-count">{{ pending_count }}</span>
                    {% endif %}
                </div>
                <div class="request-description">
                    {% if pending_count > 0 %}
                    You have {{ pending_count }} new pet profile{{ pending_count|pluralize }} to review
                    {% else %}
                    No pending pet approvals
                    {% endif %}
                </div>
                {% if pending_count > 0 %}
                <a href="{% url 'approve_pets' %}" class="request-action btn btn-warning">Review Pets</a>
                {% endif %}
            </div>

            <!-- User Registrations -->
            <div class="request-card {% if pending_user_count > 0 %}has-requests{% else %}empty{% endif %}">
                <div class="request-header">
                    <span class="request-icon">👤</span>
                    <span class="request-title">User Registrations</span>
                    {% if pending_user_count > 0 %}
                    <span class="request-count">{{ pending_user_count }}</span>
                    {% endif %}
                </div>
                <div class="request-description">
                    {% if pending_user_count > 0 %}
                    You have {{ pending_user_count }} new user registration{{ pending_user_count|pluralize }} to approve
                    {% else %}
                    No pending user registrations
                    {% endif %}
                </div>
                {% if pending_user_count > 0 %}
                <a href="{% url 'approve_users' %}" class="request-action btn btn-info">Review Users</a>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Quick Actions Section -->
    <div class="dashboard-section actions-section">
        <h2>📊 Quick Actions</h2>
        <div class="quick-actions">
            <a href="{% url 'approve_appointments' %}" class="action-link">
                <span class="action-icon">📅</span>
                <span class="action-title">Appointments Calendar</span>
                <div class="action-description">Manage all appointments and schedules</div>
            </a>
            <a href="{% url 'approve_pets' %}" class="action-link">
                <span class="action-icon">🐕</span>
                <span class="action-title">Manage Pets</span>
                <div class="action-description">Approve or review pet profiles</div>
            </a>
            <a href="{% url 'approve_users' %}" class="action-link">
                <span class="action-icon">👤</span>
                <span class="action-title">Manage Users</span>
                <div class="action-description">Approve new user registrations</div>
            </a>
            <a href="{% url 'manage_services' %}" class="action-link">
                <span class="action-icon">⚙️</span>
                <span class="action-title">Manage Services</span>
                <div class="action-description">Add, edit, and price services</div>
            </a>
        </div>
    </div>
</div>

{% endblock %}