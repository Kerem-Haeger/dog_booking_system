{% extends 'core/base.html' %}

{% block content %}
<h1>Welcome, {{ user.username }}!</h1>
<p>You are logged in as a <strong>{{ user.userprofile.role }}</strong>.</p>
<a href="{% url 'logout' %}">Logout</a>

<hr>

<h2>My Pets</h2>

{% if pets %}
<ul>
    {% for pet in pets %}
    <li>
        <strong>{{ pet.name }}</strong> ({{ pet.breed }}, {{ pet.size }})<br>
        Status: {{ pet.profile_status }}
    </li>
    {% endfor %}
</ul>
{% else %}
<p>You haven't added any pets yet.</p>
{% endif %}

<a href="{% url 'add_pet' %}">Add a Pet</a>

<h2>Appointments</h2>
<p>
    <a href="{% url 'book_appointment' %}">ðŸ“… Book a New Appointment</a>
</p>

<h2>Upcoming Appointments</h2>

{% if appointments %}
<ul>
    {% for appt in appointments %}
    <li>
        <span style="
    {% if appt.status == 'approved' %}color: green;
    {% elif appt.status == 'pending' %}color: orange;
    {% elif appt.status == 'rejected' %}color: red;
    {% else %}color: black;
    {% endif %}
">
            {{ appt }}
        </span>
    </li>
    {% endfor %}
</ul>
{% else %}
<p>No upcoming appointments.</p>
{% endif %}

{% endblock %}