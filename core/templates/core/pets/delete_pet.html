{% extends 'core/base.html' %}

{% block title %}Remove Pet Profile - Dog Booking System{% endblock %}

{% block extra_css %}
{% load static %}
<link rel="stylesheet" href="{% static 'core/css/forms.css' %}">
{% endblock %}

{% block content %}
<div class="delete-container">
    <h1>Remove Pet Profile</h1>

    <div class="delete-warning">
        <strong>‚ö†Ô∏è Important:</strong>
        This action cannot be undone.
    </div>

    {% if future_appointments %}
    <div class="appointments-warning">
        <strong>üìÖ Future Appointments Notice:</strong>
        This pet has {{ future_appointments|length }} future appointment(s) that will be automatically cancelled:
        <div class="appointments-list">
            {% for appointment in future_appointments %}
            <div class="appointment-item">
                ‚Ä¢ {{ appointment.service.name }} on {{ appointment.appointment_time|date:"M j, Y" }} at
                {{ appointment.appointment_time|time:"H:i" }}
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}

    <div class="pet-details">
        <h3>{{ pet.name }}</h3>
        <div class="pet-detail-item">
            <strong>Breed:</strong> {{ pet.breed }}
        </div>
        <div class="pet-detail-item">
            <strong>Date of Birth:</strong> {{ pet.date_of_birth }}
        </div>
        <div class="pet-detail-item">
            <strong>Status:</strong>
            <span class="pet-status-badge {{ pet.profile_status }}">
                {{ pet.profile_status|title }}
            </span>
        </div>
        <div class="pet-detail-item">
            <strong>Added:</strong> {{ pet.created_at|date:"M j, Y" }}
        </div>
    </div>

    <p>Are you sure you want to remove <strong>{{ pet.name }}</strong>'s profile from your account?</p>

    <form method="post">
        {% csrf_token %}
        <div class="action-buttons">
            <button type="submit" class="btn-danger">
                Yes
            </button>
            <a href="{% url 'client_dashboard' %}" class="btn-secondary">
                Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}